{% comment %}
  Product Tabs from metafields:
  - Tab title first → product.metafields.custom.tab_title_first
  - Tab content first → product.metafields.custom.tab_content_first
  (up to fifth)
{% endcomment %}

<div class="product-tabs small--hide">
  <div class="tab-buttons">
    {% assign tabs = '' %}

    {% if product.metafields.custom.tab_title_firtst  %}
      <button class="tab-button active" data-tab="tab-1">{{ product.metafields.custom.tab_title_firtst | metafield_tag }}</button>
    {% endif %}
    {% if product.metafields.custom.tab_title_second %}
      <button class="tab-button" data-tab="tab-2">{{ product.metafields.custom.tab_title_second | metafield_tag }}</button>
    {% endif %}
    {% if product.metafields.custom.tab_title_third %}
      <button class="tab-button" data-tab="tab-3">{{ product.metafields.custom.tab_title_third | metafield_tag }}</button>
    {% endif %}
    {% if product.metafields.custom.tab_title_fourth %}
      <button class="tab-button" data-tab="tab-4">{{ product.metafields.custom.tab_title_fourth | metafield_tag }}</button>
    {% endif %}
    {% if product.metafields.custom.tab_title_fifth %}
      <button class="tab-button" data-tab="tab-5">{{ product.metafields.custom.tab_title_fifth | metafield_tag }}</button>
    {% endif %}
  </div>

  {% if product.metafields.custom.tab_content_first %}
    <div class="tab-content active" id="tab-1">{{ product.metafields.custom.tab_content_first | metafield_tag }}</div>
  {% endif %}
  {% if product.metafields.custom.tab_content_second %}
    <div class="tab-content" id="tab-2">{{ product.metafields.custom.tab_content_second | metafield_tag }}</div>
  {% endif %}
  {% if product.metafields.custom.tab_content_third %}
    <div class="tab-content" id="tab-3">{{ product.metafields.custom.tab_content_third | metafield_tag }}</div>
  {% endif %}
  {% if product.metafields.custom.tab_content_fourth %}
    <div class="tab-content" id="tab-4">{{ product.metafields.custom.tab_content_fourth | metafield_tag }}</div>
  {% endif %}
  {% if product.metafields.custom.tab_content_fifth %}
    <div class="tab-content" id="tab-5">{{ product.metafields.custom.tab_content_fifth | metafield_tag }}</div>
  {% endif %}
</div>



<div class="product-accordion large--hide">

  {% if product.metafields.custom.tab_title_firtst %}
  <div class="accordion-item">
    <button class="accordion-header">
      {{ product.metafields.custom.tab_title_firtst | metafield_tag }}
    </button>
    <div class="accordion-body">
      {{ product.metafields.custom.tab_content_first | metafield_tag }}
    </div>
  </div>
  {% endif %}

  {% if product.metafields.custom.tab_title_second %}
  <div class="accordion-item">
    <button class="accordion-header">
      {{ product.metafields.custom.tab_title_second | metafield_tag }}
    </button>
    <div class="accordion-body">
      {{ product.metafields.custom.tab_content_second | metafield_tag }}
    </div>
  </div>
  {% endif %}

  {% if product.metafields.custom.tab_title_third %}
  <div class="accordion-item">
    <button class="accordion-header">
      {{ product.metafields.custom.tab_title_third | metafield_tag }}
    </button>
    <div class="accordion-body">
      {{ product.metafields.custom.tab_content_third | metafield_tag }}
    </div>
  </div>
  {% endif %}

  {% if product.metafields.custom.tab_title_fourth %}
  <div class="accordion-item">
    <button class="accordion-header">
      {{ product.metafields.custom.tab_title_fourth | metafield_tag }}
    </button>
    <div class="accordion-body">
      {{ product.metafields.custom.tab_content_fourth | metafield_tag }}
    </div>
  </div>
  {% endif %}

  {% if product.metafields.custom.tab_title_fifth %}
  <div class="accordion-item">
    <button class="accordion-header">
      {{ product.metafields.custom.tab_title_fifth | metafield_tag }}
    </button>
    <div class="accordion-body">
      {{ product.metafields.custom.tab_content_fifth | metafield_tag }}
    </div>
  </div>
  {% endif %}

</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const headers = document.querySelectorAll(".accordion-header");

  // --- Open first accordion by default ---
  if (headers.length > 0) {
    const firstHeader = headers[0];
    const firstBody = firstHeader.nextElementSibling;

    firstHeader.classList.add("active");
    firstBody.style.maxHeight = firstBody.scrollHeight + "px";
  }

  // --- Accordion one-by-one ---
  headers.forEach((header) => {
    header.addEventListener("click", () => {

      headers.forEach((otherHeader) => {
        const otherBody = otherHeader.nextElementSibling;

        if (otherHeader !== header) {
          otherHeader.classList.remove("active");
          otherBody.style.maxHeight = null;
        }
      });

      const body = header.nextElementSibling;
      const isOpen = header.classList.contains("active");

      if (isOpen) {
        header.classList.remove("active");
        body.style.maxHeight = null;
      } else {
        header.classList.add("active");
        body.style.maxHeight = body.scrollHeight + "px";
      }
    });
  });
});
</script>







<script>
document.addEventListener('DOMContentLoaded', () => {
  const tabButtons = document.querySelectorAll('.tab-button');
  const tabContents = document.querySelectorAll('.tab-content');

  tabButtons.forEach((button) => {
    button.addEventListener('click', () => {
      const target = button.dataset.tab;

      // Remove active classes
      tabButtons.forEach((btn) => btn.classList.remove('active'));
      tabContents.forEach((content) => content.classList.remove('active'));

      // Activate clicked tab
      button.classList.add('active');
      document.getElementById(target).classList.add('active');
    });
  });
});

</script>